<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="version" content="2.0.0">
    <meta name="description" content="ef-sin Inventur v2.0 - Werkstatt Verwaltung">
    <title>ef-sin Inventur v2.0</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-left">
            <h1>üì¶ ef-sin Inventur <span class="version">v2.0</span></h1>
        </div>
        <div class="header-right">
            <button id="syncButton" class="btn-icon" title="GitHub Sync">
                üîÑ
            </button>
            <button id="menuButton" class="btn-icon" title="Men√º">
                ‚ò∞
            </button>
        </div>
    </header>

    <!-- Kategorie Tabs -->
    <nav class="category-tabs" id="categoryTabs">
        <!-- Dynamisch gef√ºllt -->
    </nav>

    <!-- Action Buttons -->
    <div class="action-buttons">
        <button id="addNormalButton" class="btn-primary">
            <span class="btn-icon">+</span>
            <span class="btn-text">Artikel</span>
        </button>
        <button id="addQuickButton" class="btn-success">
            <span class="btn-icon">‚ö°</span>
            <span class="btn-text">Quick Add</span>
        </button>
    </div>

    <!-- Suche -->
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="üîç Suchen...">
    </div>

    <!-- Artikel Liste -->
    <main class="items-container" id="itemsContainer">
        <!-- Dynamisch gef√ºllt -->
    </main>

    <!-- Loading -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p>Lade...</p>
    </div>

    <!-- Normal Add Modal -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Artikel</h2>
                <button class="btn-close" onclick="app.closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="itemCategory">Kategorie *</label>
                    <select id="itemCategory" required></select>
                </div>
                <div class="form-group">
                    <label for="itemName">Name *</label>
                    <input type="text" id="itemName" required>
                </div>
                <div class="form-group">
                    <label for="itemSKU">SKU</label>
                    <input type="text" id="itemSKU">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="itemStock">Bestand *</label>
                        <input type="number" id="itemStock" required>
                    </div>
                    <div class="form-group">
                        <label for="itemUnit">Einheit</label>
                        <select id="itemUnit">
                            <option>St√ºck</option>
                            <option>Meter</option>
                            <option>Kilogramm</option>
                            <option>Liter</option>
                            <option>Paket</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="itemMin">Min</label>
                        <input type="number" id="itemMin">
                    </div>
                    <div class="form-group">
                        <label for="itemMax">Max</label>
                        <input type="number" id="itemMax">
                    </div>
                    <div class="form-group">
                        <label for="itemPrice">Preis (‚Ç¨)</label>
                        <input type="number" step="0.01" id="itemPrice">
                    </div>
                </div>
                <div class="form-group">
                    <label for="itemLocation">Standort</label>
                    <input type="text" id="itemLocation">
                </div>
                <div class="form-group">
                    <label for="itemNotes">Notizen</label>
                    <textarea id="itemNotes" rows="3" maxlength="10000"></textarea>
                </div>
                <div class="form-group">
                    <label for="itemPhoto">Foto</label>
                    <input type="file" id="itemPhoto" accept="image/*">
                    <div id="photoPreview"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="app.closeModal()">Abbrechen</button>
                <button class="btn-primary" onclick="app.saveItem()">Speichern</button>
            </div>
        </div>
    </div>

    <!-- Quick Add Modal -->
    <div class="modal" id="quickAddModal">
        <div class="modal-content quick-add">
            <div class="modal-header">
                <h2>‚ö° Schnelleingabe</h2>
                <button class="btn-close" onclick="quickAdd.close()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="quickCategory">Kategorie</label>
                    <select id="quickCategory"></select>
                </div>
                <div class="form-group">
                    <label for="quickSKU">SKU</label>
                    <input type="text" id="quickSKU">
                </div>
                <div class="form-group">
                    <label for="quickName">Name *</label>
                    <input type="text" id="quickName" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="quickStock">Anzahl *</label>
                        <input type="number" id="quickStock" required>
                    </div>
                    <div class="form-group">
                        <label for="quickPrice">Preis</label>
                        <input type="number" step="0.01" id="quickPrice">
                    </div>
                </div>
                <div class="form-group">
                    <label for="quickLocation">Standort</label>
                    <input type="text" id="quickLocation">
                </div>
                <div class="quick-stats">
                    Heute: <span id="quickTodayCount">0</span>
                </div>
            </div>
            <div class="modal-footer">
                <small>ENTER = Speichern | ESC = Schlie√üen</small>
                <button class="btn-primary" onclick="quickAdd.save()">Speichern (ENTER)</button>
            </div>
        </div>
    </div>

    <!-- Men√º -->
    <div class="menu-overlay" id="menuOverlay" onclick="app.closeMenu()"></div>
    <aside class="menu-sidebar" id="menuSidebar">
        <div class="menu-header">
            <h2>Men√º</h2>
            <button class="btn-close" onclick="app.closeMenu()">√ó</button>
        </div>
        <div class="menu-content">
            <button class="menu-item" onclick="app.exportData()">
                <span>üíæ</span> Export
            </button>
            <button class="menu-item" onclick="app.importData()">
                <span>üì•</span> Import
            </button>
            <hr>
            <button class="menu-item" onclick="app.showGitHubSettings()">
                <span>‚öôÔ∏è</span> GitHub
            </button>
            <button class="menu-item" onclick="app.manualSync()">
                <span>üîÑ</span> Sync
            </button>
        </div>
    </aside>

    <!-- Toast -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="src/managers/CategoryManager.js"></script>
    <script src="src/managers/ImageManager.js"></script>
    <script src="src/managers/MultiFileGitHubSync.js"></script>
    <script src="src/components/QuickAdd.js"></script>
    <script src="src/utils/MigrationV1toV2.js"></script>
    <script src="app.js"></script>
</body>
</html>
